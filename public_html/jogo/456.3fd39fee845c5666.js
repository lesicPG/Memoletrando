"use strict";(self.webpackChunkmemory_game=self.webpackChunkmemory_game||[]).push([[456],{4187:(p,g,n)=>{n.d(g,{R:()=>d});var o=n(9177),s=n(4650),u=n(8996);let d=(()=>{class l extends o.b{constructor(c,t){super(c),this.url="game-settings"}getSettingAndImages(c=null){return this.http.get(this.buildUrl("/get-setting-and-images/"+c),this.api_token).toPromise()}}return l.\u0275fac=function(c){return new(c||l)(s.LFG(s.zs3),s.LFG(u.F0))},l.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},5378:(p,g,n)=>{n.d(g,{F:()=>l});var o=n(1277),s=n(1500),u=n(2071),d=n(5806);class l extends o.i{constructor(c={}){super(),this.id=null,this.quantity_images=2,this.category_id=null,this.level_id=null,this.user_id=null,this.created_at=null,this.updated_at=null,this.deleted_at=null,this.category=null,this.level=null,this.user=null,super.serialize(c)}get relations(){return{category:s.W,level:d.a,user:u.n}}get dates(){return["created_at","updated_at","deleted_at"]}get http_data(){return{id:this.id,quantity_images:this.quantity_images,category_id:this.category_id,level_id:this.level_id,user_id:this.user_id}}}},8456:(p,g,n)=>{n.r(g),n.d(g,{LevelPageComponentModule:()=>D});var o=n(8996),s=n(2815),u=n(1073),d=n(688),l=n(1500),m=n(5378),c=n(5806),t=n(4650),f=n(9177);let O=(()=>{class a extends f.b{constructor(e,r){super(e),this.url="categories"}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(t.zs3),t.LFG(o.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var M=n(4187),b=n(5872);let L=(()=>{class a extends f.b{constructor(e,r){super(e),this.url="levels"}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(t.zs3),t.LFG(o.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var E=n(8998),_=n(6895),y=n(4859),C=n(3546),T=n(7392),Z=n(1572),P=n(3683);function A(a,i){if(1&a&&(t.TgZ(0,"h1",27),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.category.name)}}function U(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){const v=t.CHM(e).$implicit,x=t.oxw(2);return t.KtG(x.chooseLevel(v))}),t._uU(1),t.qZA()}if(2&a){const e=i.$implicit,r=t.oxw(2);t.Gre("button-level ",r.game_setting.level_id==e.id?"button-selected":"",""),t.xp6(1),t.hij(" ",e.name," ")}}function I(a,i){1&a&&t._UZ(0,"mat-spinner",29)}function w(a,i){1&a&&(t.TgZ(0,"mat-icon",30),t._uU(1," play_arrow "),t.qZA())}function F(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card",11)(1,"mat-card-content",12)(2,"div",6)(3,"div",13)(4,"div",14)(5,"div",15),t._UZ(6,"div",16),t.TgZ(7,"div",17),t.YNc(8,A,2,1,"h1",18),t.qZA()()(),t.TgZ(9,"div",14)(10,"h2",19)(11,"b"),t._uU(12,"ESCOLHA O N\xcdVEL "),t._UZ(13,"br"),t._uU(14,"DE DIFICULDADE"),t.qZA()(),t.TgZ(15,"div",20)(16,"div")(17,"div",21),t.YNc(18,U,2,4,"button",22),t.qZA(),t.TgZ(19,"div",23)(20,"button",24),t.NdJ("click",function(){t.CHM(e);const h=t.oxw();return t.KtG(h.saveGameSetting())}),t.TgZ(21,"span",3),t._uU(22),t.qZA(),t.YNc(23,I,1,0,"mat-spinner",25),t.YNc(24,w,2,0,"mat-icon",26),t.qZA()()()()()()()()()}if(2&a){const e=t.oxw();t.xp6(6),t.Q6J("ngStyle",e.setBackgroundImage()),t.xp6(2),t.Q6J("ngIf",e.category),t.xp6(10),t.Q6J("ngForOf",e.levels),t.xp6(2),t.Q6J("disabled",e.loading_save),t.xp6(2),t.hij(" ",e.loading_save?"Salvando":"Jogar"," "),t.xp6(1),t.Q6J("ngIf",e.loading_save),t.xp6(1),t.Q6J("ngIf",!e.loading_save)}}const S=[{path:"categoria/:id",component:(()=>{class a{constructor(e,r,h,v,x,Y,z){this.category_service=e,this.game_setting_service=r,this.helper_service=h,this.level_service=v,this.route=x,this.router=Y,this.user_service=z,this.user=null,this.category_id=null,this.category=null,this.max_quantity_images=2,this.game_setting=new m.F,this.levels=[],this.loading_levels=!1,this.loading_category=!1,this.loading_save=!1,this.url_s3=this.user_service.url_s3}ngOnInit(){this.user=this.user_service.user,this.game_setting.user_id=this.user?this.user.id:null,this.category_id=this.route.snapshot.params.id?parseInt(this.route.snapshot.params.id):null,this.category_id||(this.helper_service.toast("danger","Categoria n\xe3o encontrada"),this.router.navigate(["/temas"])),this.getCategory(),this.getLevels()}getCategory(){this.loading_category=!0,this.category_service.find(["theme.image"],{active:1,id:this.category_id}).then(e=>{this.loading_category=!1,e.error?this.helper_service.toast("danger","Alguma coisa deu errado"):(this.category=new l.W(e.category),this.game_setting.category_id=this.category.id,this.max_quantity_images=10)},e=>(console.log(e),this.loading_category=!1,this.router.navigateByUrl("/temas")))}getLevels(){this.helper_service.loading(),this.loading_levels=!0,this.level_service.get([],{}).then(e=>{this.loading_levels=!1,this.helper_service.loading_dismiss(),e.error?this.helper_service.toast("danger","Alguma coisa deu errado"):this.levels=e.levels.map(r=>new c.a(r))},e=>(console.log(e),this.helper_service.loading_dismiss(),this.loading_levels=!1,this.router.navigateByUrl("/temas")))}chooseLevel(e){this.game_setting.level_id=e.id,this.game_setting.level=e,this.game_setting.quantity_images=e.quantity_images}saveGameSetting(){this.loading_save||(this.loading_save=!0,this.helper_service.loading(),this.game_setting_service.store(this.game_setting).then(e=>{this.loading_save=!1,this.helper_service.loading_dismiss(),e.error?this.helper_service.toast("danger","Alguma coisa deu errado"):(this.game_setting=new m.F(e.game_setting),this.router.navigateByUrl("game/"+this.game_setting.id))},e=>{this.loading_save=!1,this.helper_service.loading_dismiss(),this.helper_service.responseErrors(e)}))}logoff(){this.user_service.logout()}backPage(){return this.router.navigateByUrl("temas")}setBackgroundImage(){return this.category&&this.category.theme&&this.category.theme.image?{"background-image":"url("+this.url_s3+this.category.theme.image.path+")",position:"absolute",width:"50%",height:"100%",top:0,left:0,"background-size":"cover",filter:"drop-shadow(2px 4px 6px black) blur(1px) grayscale(0.5) opacity(0.5)"}:{}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(O),t.Y36(M.R),t.Y36(b.W),t.Y36(L),t.Y36(o.gz),t.Y36(o.F0),t.Y36(E.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-level-page"]],decls:18,vars:1,consts:[[1,"bg-geral"],["color","primary",1,"color-game"],["mat-icon-button","","aria-label","Volar",1,"example-icon",3,"click"],[1,"text-white"],[1,"example-spacer"],["aria-label","Sair",1,"text-white",3,"click"],[1,"container","h-100"],[1,"row","mt-5"],[1,"col-12","p-lr-90"],["class","center padding-0 pl-5 pr-5","color","primary",4,"ngIf"],["src","./../../../../../assets/image/character/brain_question.png",1,"img-character"],["color","primary",1,"center","padding-0","pl-5","pr-5"],[1,"height-card"],[1,"row","h-100"],[1,"col-6"],[1,"h-100"],[1,"split","left",3,"ngStyle"],[1,"centered"],["class","category-name text-shadow",4,"ngIf"],[1,"text-primary"],[1,"split","right"],[1,"button-row"],["mat-raised-button","","color","accent",3,"class","click",4,"ngFor","ngForOf"],[1,"button-row","full-width"],["mat-raised-button","","color","primary",3,"disabled","click"],["class","mat-spinner",4,"ngIf"],["style","color: white","iconPositionEnd","",4,"ngIf"],[1,"category-name","text-shadow"],["mat-raised-button","","color","accent",3,"click"],[1,"mat-spinner"],["iconPositionEnd","",2,"color","white"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"mat-toolbar-row")(3,"button",2),t.NdJ("click",function(){return r.backPage()}),t.TgZ(4,"mat-icon",3),t._uU(5,"arrow_back_ios"),t.qZA()(),t.TgZ(6,"span",3),t._uU(7,"Jogo da mem\xf3ria"),t.qZA(),t._UZ(8,"span",4)(9,"span",4),t.TgZ(10,"span",5),t.NdJ("click",function(){return r.logoff()}),t._uU(11," Sair "),t.qZA()()(),t.TgZ(12,"div",6)(13,"div",7)(14,"div",8),t.YNc(15,F,25,7,"mat-card",9),t.qZA()()(),t.TgZ(16,"div"),t._UZ(17,"img",10),t.qZA()()),2&e&&(t.xp6(15),t.Q6J("ngIf",!r.loading_category&&!r.loading_levels))},dependencies:[_.sg,_.O5,_.PC,y.lW,y.RK,C.a8,C.dn,T.Hw,Z.Ou,P.Ye,P.rD],styles:[".card[_ngcontent-%COMP%]{margin:50px}.center[_ngcontent-%COMP%]{margin:auto;width:80%;padding:10px;text-align:center;background:#fff}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.padding-0[_ngcontent-%COMP%]{padding:0!important}.padding-top-2[_ngcontent-%COMP%]{padding-top:40px!important}.tittle-toolbar[_ngcontent-%COMP%]{background-color:#673ab7;color:#fff;margin-bottom:30px}.example-card[_ngcontent-%COMP%]{max-width:100px;cursor:pointer}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://portal.stf.jus.br/hotsites/agenda-2030/assets/img/ods/01-pobreza.png);background-size:cover}mat-grid-tile[_ngcontent-%COMP%]{height:100px}.height-card[_ngcontent-%COMP%]{height:100%}.split[_ngcontent-%COMP%]{padding-top:20px}.left[_ngcontent-%COMP%]{position:relative;height:100%}.right[_ngcontent-%COMP%]{right:0;padding:50px 0}.centered[_ngcontent-%COMP%]{position:relative;text-align:center;display:flex;align-items:center;height:100%;justify-content:center;text-transform:uppercase;color:#00d084}.text-shadow[_ngcontent-%COMP%]{text-shadow:-1px -1px 9px #000,-1px 1px 0px #000,1px -1px 6px #000,1px 0px 0px #000}.centered[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;border-radius:50%}.button-row[_ngcontent-%COMP%]{display:grid;margin-bottom:20px}.button-level[_ngcontent-%COMP%]{margin-bottom:10px;text-transform:uppercase}.input-range[_ngcontent-%COMP%]{margin-bottom:35px}.button-selected[_ngcontent-%COMP%]{background-color:#00f!important}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.category-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.img-character[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:15%}.mat-spinner[_ngcontent-%COMP%]{width:18px!important;height:18px!important;display:inline-flex;--mdc-circular-progress-active-indicator-color: white;text-shadow:-1px -1px 0px #000,-1px 1px 0px #000,1px -1px 0px #000,1px 0px 0px #000}"]}),a})(),canActivate:[d.a]}];let D=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[s.Y,o.Bz.forChild(S),u.q]}),a})()},5806:(p,g,n)=>{n.d(g,{a:()=>s});var o=n(1277);class s extends o.i{constructor(d={}){super(),this.id=null,this.name=null,this.quantity_images=2,this.created_at=null,this.updated_at=null,this.deleted_at=null,super.serialize(d)}get relations(){return{}}get dates(){return["created_at","updated_at","deleted_at"]}get http_data(){return{name:this.name,quantity_images:this.quantity_images}}}}}]);